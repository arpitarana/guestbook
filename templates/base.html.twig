<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Welcome!{% endblock %}</title>
        {# Run `composer require symfony/webpack-encore-bundle`
           and uncomment the following Encore helpers to start using Symfony UX #}
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}


    </head>
    <body>
    {% set infoMessages = [] %}
    {% set successMessages = [] %}
    {% set errorMessages = [] %}
    {% if app.session and app.session.flashBag.has('flashInfo') %}
        {% for flashMessage in app.session.flashbag.get('flashInfo') %}
            {% set infoMessages = infoMessages|merge([flashMessage]) %}
        {% endfor %}
        <div id="infoMessages" data-id="{{ infoMessages|json_encode() }}"></div>
    {% endif %}

    {% if app.session and  app.session.flashBag.has('flashSuccess') %}
        {% for flashMessage in app.session.flashbag.get('flashSuccess') %}
            {% set successMessages = successMessages|merge([flashMessage]) %}
        {% endfor %}
        <div id="successMessages" data-id="{{ successMessages|json_encode() }}"></div>
    {% endif %}

    {% if app.session and app.session.flashBag.has('flashError') %}
        {% for flashMessage in app.session.flashbag.get('flashError') %}
            {% set errorMessages = errorMessages|merge([flashMessage]) %}
        {% endfor %}
        <div id="errorMessages" data-id="{{ errorMessages|json_encode() }}"></div>
    {% endif %}

        <div class="container-scroller">
            {% include 'header.html.twig' %}
            <div class="container-fluid page-body-wrapper">
                {% include 'sidebar.html.twig' %}
                <div class="main-panel">
                    <div class="content-wrapper">
                        {% block body %}
                        {% endblock %}
                    </div>
                    {% include 'footer.html.twig' %}
                </div>
            </div>
        </div>
    {% block javascripts %}
        {{ encore_entry_script_tags('app') }}
        {{ encore_entry_script_tags('common') }}
    {% endblock %}
    </body>
</html>


